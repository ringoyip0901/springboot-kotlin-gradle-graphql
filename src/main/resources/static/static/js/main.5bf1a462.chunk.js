(this["webpackJsonpapollo-family-tree"]=this["webpackJsonpapollo-family-tree"]||[]).push([[0],{32:function(e,n,t){e.exports=t(50)},37:function(e,n,t){},48:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a=t(4),r=t.n(a),o=t(27),i=t.n(o),c=(t(37),t(8)),u=t(11),l=t(5),s=t(14),f=t(31),m=t(1),d=t(10),b=t(13),p=t(12),v=t(16);function g(){var e=Object(u.a)(["\n        {\n            message\n        }\n    "]);return g=function(){return e},e}var h=new s.a({uri:"http://localhost:8080/graphql"}),E=(new v.SubscriptionClient("ws://localhost:8080/subscriptions",{reconnect:!1}),new f.a({uri:"ws:localhost:8080/subscriptions"})),O=Object(l.d)((function(e){var n=e.query,t=Object(m.l)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),E,h),j=new d.c({link:O,cache:new b.a});j.query({query:Object(p.a)(g())}).then((function(e){return e.data})).then((function(e){return e}));var w=j,$=(t(48),t(20)),y=t(15);function k(){var e=Object(u.a)(["\n  mutation ($name: String!, $image: String) {\n    createPerson(name: $name, image: $image) {\n        edges {\n            node {\n                id\n                name\n                image\n            }\n        }\n    }\n  }\n"]);return k=function(){return e},e}var S=Object(p.a)(k()),P=function(){var e,n,t=Object(y.a)(S),a=Object($.a)(t,2),o=a[0];a[1].data;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),o({variables:{name:n.value,image:e.value}}),n.value="",e.value=""}},r.a.createElement("input",{placeholder:"Name",ref:function(e){n=e}}),r.a.createElement("input",{placeholder:"image",ref:function(n){e=n}}),r.a.createElement("button",{type:"submit"},"Add Person"))};function q(){var e=Object(u.a)(["\n  subscription subscribeToFamily($offset: Int, $after: String) {\n    getEveryone(offset: $offset) {\n        allPeople(first: $offset, after: $after) {\n          edges {\n            node {\n              id\n              name\n              image\n            }\n          }\n        }\n    }\n  }\n\n"]);return q=function(){return e},e}function A(){var e=Object(u.a)(["\n    subscription getTimerSub {\n      timer {\n        x\n      }\n    }\n"]);return A=function(){return e},e}function I(){var e=Object(u.a)(["\n subscription ($offset: Int!, $after: String){\n   getEveryone(offset: $offset) {\n       allPeople(first: $offset, after: $after) {\n           edges {\n             node {\n               id\n               name\n               image\n             }\n           }\n       }\n   }\n }\n"]);return I=function(){return e},e}Object(p.a)(I()),Object(p.a)(A());var N=Object(p.a)(q()),x=function(){var e=Object(y.b)(N,{variables:{offset:1,after:"1"}}),n=e.loading,t=e.error,o=e.data;console.log(o);var i=Object(a.useState)({id:"pc"}),c=Object($.a)(i,2);c[0],c[1];if(n)return r.a.createElement("div",null,"Loading...");if(t)return r.a.createElement("div",null,"Error...");var u=o&&o.getEveryone.allPeople.edges;return r.a.createElement("div",null,u.map((function(e,n){return r.a.createElement("div",{key:n},r.a.createElement("p",{key:n},e.node.name),r.a.createElement("img",{src:e.node.image}))})),r.a.createElement(P,null))},B=function(){return r.a.createElement(c.a,{client:w},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(x,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.5bf1a462.chunk.js.map